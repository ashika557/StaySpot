{% extends "admin/change_list.html" %}
{% load i18n admin_urls admin_list static %}

{% block content_title %}
<div style="margin-bottom: 24px;">
    <h1
        style="font-size: 28px; font-weight: 900; color: #0F172A; margin: 0; letter-spacing: -0.025em; text-transform: uppercase;">
        Manage Rooms</h1>
    <p style="color: #64748B; font-size: 15px; margin: 8px 0 0 0; font-weight: 500;">Monitor and manage all room
        listings</p>
</div>
{% endblock %}

{% block extrastyle %}
{{ block.super }}
<style>
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 24px;
        margin-bottom: 32px;
    }

    .stat-card {
        background: white;
        border-radius: 16px;
        padding: 24px;
        border: 1px solid var(--border-color);
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.02);
    }

    .stat-info {
        display: flex;
        flex-direction: column;
        gap: 4px;
    }

    .stat-label {
        font-size: 13px;
        font-weight: 600;
        color: #64748B;
    }

    .stat-value {
        font-size: 28px;
        font-weight: 900;
        color: #0F172A;
    }

    .stat-icon {
        width: 48px;
        height: 48px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 20px;
    }

    /* Highlight flagged rows */
    #result_list tbody tr[data-status="Flagged"] {
        background: #FFF1F2 !important;
    }

    #result_list tbody tr[data-status="Flagged"]:hover {
        background: #FFE4E6 !important;
    }
</style>
{% endblock %}

{% block content %}
{{ block.super }}

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Tag flagged rows for CSS targeting
        const rows = document.querySelectorAll('#result_list tbody tr');
        rows.forEach(row => {
            const statusBadge = row.querySelector('td.column-status_badge span');
            if (statusBadge && statusBadge.textContent.trim() === 'Flagged') {
                row.setAttribute('data-status', 'Flagged');
            }
        });
    });
</script>
{% endblock %}