{% extends "admin/base.html" %}
{% load i18n static %}

{% block title %}{{ title }} | {{ site_title|default:_('Django site admin') }}{% endblock %}

{% block extrastyle %}
{{ block.super }}
<style>
    /* Premium Sidebar Layout */
    :root {
        --primary-blue: #2563eb;
        --sidebar-width: 260px;
        --header-height: 64px;
    }

    body {
        display: flex;
        min-height: 100vh;
        background-color: #f8fafc !important;
    }

    #container {
        display: flex;
        width: 100%;
        flex-direction: row !important;
    }

    /* Hide default header to rebuild it */
    #header {
        position: fixed;
        top: 0;
        right: 0;
        left: var(--sidebar-width);
        height: var(--header-height);
        background: white !important;
        border-bottom: 1px solid #e2e8f0 !important;
        display: flex;
        align-items: center;
        padding: 0 30px !important;
        z-index: 1000;
        color: #1e293b !important;
    }

    #header a {
        color: #1e293b !important;
        font-weight: 700;
    }

    #header #branding h1 {
        color: var(--primary-blue) !important;
        margin: 0;
        font-size: 20px;
    }

    /* Custom Sidebar */
    .custom-sidebar {
        width: var(--sidebar-width);
        background: white;
        border-right: 1px solid #e2e8f0;
        position: fixed;
        top: 0;
        left: 0;
        bottom: 0;
        display: flex;
        flex-direction: column;
        z-index: 1001;
    }

    .sidebar-header {
        padding: 24px;
        border-bottom: 1px solid #f1f5f9;
        display: flex;
        align-items: center;
        gap: 12px;
    }

    .sidebar-logo {
        width: 40px;
        height: 40px;
        background: var(--primary-blue);
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: 900;
        font-size: 20px;
    }

    .sidebar-nav {
        padding: 20px 15px;
        flex: 1;
        overflow-y: auto;
    }

    .nav-item {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 12px 16px;
        border-radius: 10px;
        color: #475569;
        text-decoration: none !important;
        font-weight: 600;
        font-size: 14px;
        margin-bottom: 4px;
        transition: all 0.2s;
    }

    .nav-item:hover {
        background: #f8fafc;
        color: var(--primary-blue);
    }

    .nav-item.active {
        background: #eff6ff;
        color: var(--primary-blue);
    }

    .nav-section-label {
        font-size: 11px;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        color: #94a3b8;
        font-weight: 800;
        margin: 20px 16px 10px;
    }

    /* Main Content Adjustments */
    #content {
        margin-left: var(--sidebar-width);
        margin-top: var(--header-height);
        padding: 40px !important;
        width: calc(100% - var(--sidebar-width));
        background: transparent !important;
    }

    .breadcrumbs {
        margin-left: var(--sidebar-width);
        margin-top: var(--header-height);
        background: transparent !important;
        border: none !important;
        padding: 20px 40px 0 !important;
        color: #64748b !important;
    }

    .breadcrumbs a {
        color: var(--primary-blue) !important;
        font-weight: 600;
    }

    /* Fix for some default admin styles */
    #nav-sidebar {
        display: none !important;
    }

    .main.shifted {
        margin-left: 0 !important;
    }
</style>
{% endblock %}

{% block branding %}
<div class="custom-sidebar">
    <div class="sidebar-header">
        <div class="sidebar-logo">S</div>
        <div>
            <div style="font-weight: 900; font-size: 18px; color: #1e293b; line-height: 1;">StaySpot</div>
            <div
                style="font-size: 11px; color: #64748b; font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; margin-top: 4px;">
                Admin Portal</div>
        </div>
    </div>

    <div class="sidebar-nav">
        <a href="{% url 'admin:index' %}" class="nav-item {% if request.path == '/admin/' %}active{% endif %}">
            <span>üìä</span> Dashboard
        </a>

        <div class="nav-section-label">User Management</div>
        <a href="/admin/accounts/user/" class="nav-item"><span>üë•</span> Accounts</a>
        <a href="/admin/accounts/pendingverification/" class="nav-item"><span>üÜî</span> KYC Verifications</a>

        <div class="nav-section-label">Property & Stays</div>
        <a href="/admin/OwnerRooms/room/" class="nav-item"><span>üè†</span> Rooms</a>
        <a href="/admin/OwnerRooms/booking/" class="nav-item"><span>üìÖ</span> Bookings</a>
        <a href="/admin/OwnerRooms/complaint/" class="nav-item"><span>‚ö†Ô∏è</span> Complaints</a>
        <a href="/admin/OwnerRooms/roomreview/" class="nav-item"><span>‚≠ê</span> Reviews</a>

        <div class="nav-section-label">Operations</div>
        <a href="/admin/payments/payment/" class="nav-item"><span>üí∞</span> Payments</a>
        <a href="/admin/notifications/notification/" class="nav-item"><span>üîî</span> Notifications</a>
        <a href="/admin/accounts/platformpolicy/" class="nav-item"><span>üìú</span> Policies</a>
    </div>

    <div style="padding: 20px; border-top: 1px solid #f1f5f9; background: #f8fafc;">
        <div style="display: flex; align-items: center; gap: 10px;">
            <div
                style="width: 32px; height: 32px; border-radius: 50%; background: #e2e8f0; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 12px;">
                A</div>
            <div style="flex: 1; overflow: hidden;">
                <div
                    style="font-weight: 700; font-size: 12px; color: #1e293b; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                    {{ user.username }}</div>
                <div style="font-size: 10px; color: #64748b; font-weight: 600;">Superadmin</div>
            </div>
        </div>
    </div>
</div>

<h1 id="site-name"><a href="{% url 'admin:index' %}">StaySpot Admin Control</a></h1>
{% endblock %}

{% block userlinks %}
{% if site_url %}
<a href="{{ site_url }}">{% translate 'View site' %}</a> /
{% endif %}
{% if user.is_active and user.is_staff %}
{% url 'django-admindocs-docroot' as docsroot %}
{% if docsroot %}
<a href="{{ docsroot }}">{% translate 'Documentation' %}</a> /
{% endif %}
{% endif %}
{% if user.has_usable_password %}
<a href="{% url 'admin:password_change' %}">{% translate 'Change password' %}</a> /
{% endif %}
<form id="logout-form" action="{% url 'admin:logout' %}" method="post">
    {% csrf_token %}
    <button type="submit"
        style="background: none; border: none; color: var(--primary-blue); font-weight: 700; cursor: pointer; padding: 0;">{%
        translate 'Log out' %}</button>
</form>
{% endblock %}